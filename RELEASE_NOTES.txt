Release Notes
=============

Dexterity 2.0 is a major release of Dexterity. Its focus is on preparing
Dexterity for inclusion in Plone core, by cleaning things up and making
dependencies that are not ready for primetime optional.

Relation support no longer included by default
----------------------------------------------

Dexterity 1.0 included support for object relations based on the zc.relation
catalog and plone.app.relationfield, as well as a behavior
(``plone.app.dexterity.behaviors.related.IRelatedItems``) providing a
generic list of related items based on that implementation.

Since this feature was added to Dexterity, we discovered that it will be hard
to support this type of relation well in Zope 2 until Zope 2 is setting
__parent__ pointers everywhere. In addition, we encountered some problems with
using interfaces as keys in the zc.relation catalog. And Dexterity gained
support for the Archetypes reference engine in 
``plone.app.referenceablebehavior``. As a result of these factors, the 
zc.relation approach to object relationships will not be included in Dexterity or Plone core for the time being.

Using relations via plone.app.relationfield
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you were relying on the support for relations, you can re-enable support
by installing the ``plone.app.relationfield`` package. You need to add it to
your package's install_requires in setup.py::

  install_requires=[
      'plone.app.relationfield',
      ]

Make sure your package is including its ZCML in configure.zcml::

  <include package="plone.app.relationfield" />

And install its GenericSetup profile as a dependency in your package's metadata.xml::

  <dependencies>
    <dependency>profile-plone.app.relationfield:default</dependency>
  </dependencies>

If you have any content types using the IRelatedItems behavior, you should 
update them to import the behavior from the new location::

  <property name="behaviors">
      <element value="plone.app.relationfield.behavior.IRelatedItems" />
  </property>
